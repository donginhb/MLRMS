@model BEMAttendance.Models.Manager
@using BEMAttendance.Models
<form class="form-horizontal" method="post" action="/Password">
    <fieldset>
        <legend>密码修改</legend>
     @if ((VisitorRole)ViewData["VisitorRole"] == VisitorRole.Admin || (VisitorRole)ViewData["VisitorRole"] == VisitorRole.SubAdmin)
     {
            <text>
                <script type="text/javascript">
               $('#loginlink').attr('href', '/loginUI/logout');
               $('#loginlink').text('注销');
               $('#loginname').text('@ViewData["username"]');
                </script>
            </text>
        }
        @if ((VisitorRole)ViewData["VisitorRole"] == VisitorRole.Admin)
        {
            <text>
                <script type="text/javascript">
                    $('#adminAdd').removeClass("hide");
                    $('#packUpdate').removeClass("hide");
                </script>
            </text>
        }
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="form-group">
            @if ((string)ViewData["status"] == "true")
            {
                <div class="alert alert-dismissible alert-success" id="successDiv">
                    <button class="close" type="button" data-dismiss="alert">&times;</button>
                    <strong>修改成功</strong>
                </div>
            }
           @if ((string)ViewData["status"] == "false")
            {
            <div class="alert alert-dismissible alert-danger" id="failDiv">
                <button class="close" type="button" data-dismiss="alert">&times;</button>
                <strong>修改失败</strong>
            </div>
           }
            @Html.LabelFor(model => model.UserCode, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-lg-10">
                @Html.EditorFor(model => model.UserCode, new { htmlAttributes = new { @class = "form-control", @readonly = "true" } })
                @Html.ValidationMessageFor(model => model.UserCode, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            @Html.HiddenFor(m => m.AdminId)
            @Html.LabelFor(model => model.UserName, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-lg-10">
                @Html.EditorFor(model => model.UserName, new { htmlAttributes = new { @class = "form-control", @readonly = "true" } })
                @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.Passwd, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-lg-10">
                @Html.EditorFor(model => model.Passwd, new { htmlAttributes = new { @class = "form-control",@type="password",@maxlength=18} })
                @Html.ValidationMessageFor(model => model.Passwd, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.NewPwd, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-lg-10">
                @Html.EditorFor(model => model.NewPwd , new { htmlAttributes = new { @class = "form-control", @type = "password", @maxlength = 18 } })
                @Html.ValidationMessageFor(model => model.NewPwd, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.NewPwdConfirm, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-lg-10">
                @Html.EditorFor(model => model.NewPwdConfirm, new { htmlAttributes = new { @class = "form-control", @type = "password", @maxlength = 18 } })
                @Html.ValidationMessageFor(model => model.NewPwdConfirm, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-lg-10 col-lg-offset-2">
                <button class="btn btn-primary" type="submit">保存</button>
            </div>
        </div>
    </fieldset>
</form>

